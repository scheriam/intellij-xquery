XQuery File(0,324)
  XQuerySchemaImportImpl(SCHEMA_IMPORT)(0,70)
    PsiElement(import)('import')(0,6)
    PsiWhiteSpace(' ')(6,7)
    PsiElement(schema)('schema')(7,13)
    PsiWhiteSpace(' ')(13,14)
    PsiElement(namespace)('namespace')(14,23)
    PsiWhiteSpace(' ')(23,24)
    XQueryNamespacePrefixImpl(NAMESPACE_PREFIX)(24,27)
      PsiElement(NCName)('ipo')(24,27)
    PsiElement(=)('=')(27,28)
    XQueryURILiteralImpl(URI_LITERAL)(28,56)
      XQueryStringLiteralImpl(STRING_LITERAL)(28,56)
        PsiElement(OpeningQuot)('"')(28,29)
        PsiElement(StringChar)('http://www.example.com/IPO')(29,55)
        PsiElement(ClosingQuot)('"')(55,56)
    PsiWhiteSpace(' ')(56,57)
    PsiElement(at)('at')(57,59)
    PsiWhiteSpace(' ')(59,60)
    XQueryURILiteralImpl(URI_LITERAL)(60,69)
      XQueryStringLiteralImpl(STRING_LITERAL)(60,69)
        PsiElement(OpeningQuot)('"')(60,61)
        PsiElement(StringChar)('ipo.xsd')(61,68)
        PsiElement(ClosingQuot)('"')(68,69)
    XQuerySeparatorImpl(SEPARATOR)(69,70)
      PsiElement(;)(';')(69,70)
  PsiWhiteSpace('\n\n')(70,72)
  XQueryQueryBodyImpl(QUERY_BODY)(72,324)
    XQueryExprImpl(EXPR)(72,324)
      XQueryFLWORExprImpl(FLWOR_EXPR)(72,324)
        XQueryLetClauseImpl(LET_CLAUSE)(72,125)
          PsiElement(let)('let')(72,75)
          PsiWhiteSpace(' ')(75,76)
          XQueryLetBindingImpl(LET_BINDING)(76,125)
            PsiElement($)('$')(76,77)
            XQueryVarNameImpl(VAR_NAME)(77,78)
              XQueryVarLocalNameImpl(VAR_LOCAL_NAME)(77,78)
                PsiElement(NCName)('p')(77,78)
            PsiWhiteSpace(' ')(78,79)
            PsiElement(:=)(':=')(79,81)
            PsiWhiteSpace(' ')(81,82)
            XQueryPathExprImpl(PATH_EXPR)(82,125)
              XQueryPrimaryExprImpl(PRIMARY_EXPR)(82,96)
                XQueryFunctionCallImpl(FUNCTION_CALL)(82,96)
                  XQueryFunctionNameImpl(FUNCTION_NAME)(82,85)
                    XQueryFunctionLocalNameImpl(FUNCTION_LOCAL_NAME)(82,85)
                      PsiElement(NCName)('doc')(82,85)
                  XQueryArgumentListImpl(ARGUMENT_LIST)(85,96)
                    PsiElement(()('(')(85,86)
                    XQueryArgumentImpl(ARGUMENT)(86,95)
                      XQueryPrimaryExprImpl(PRIMARY_EXPR)(86,95)
                        XQueryLiteralImpl(LITERAL)(86,95)
                          XQueryStringLiteralImpl(STRING_LITERAL)(86,95)
                            PsiElement(OpeningQuot)('"')(86,87)
                            PsiElement(StringChar)('ipo.xml')(87,94)
                            PsiElement(ClosingQuot)('"')(94,95)
                    PsiElement())(')')(95,96)
              XQueryRelativePathOperatorImpl(RELATIVE_PATH_OPERATOR)(96,98)
                PsiElement(//)('//')(96,98)
              XQueryStepExprImpl(STEP_EXPR)(98,125)
                XQueryAxisStepImpl(AXIS_STEP)(98,125)
                  XQueryForwardStepImpl(FORWARD_STEP)(98,124)
                    XQueryAbbrevForwardStepImpl(ABBREV_FORWARD_STEP)(98,124)
                      XQueryNodeTestImpl(NODE_TEST)(98,124)
                        XQueryKindTestImpl(KIND_TEST)(98,124)
                          XQueryElementTestImpl(ELEMENT_TEST)(98,124)
                            PsiElement(element)('element')(98,105)
                            PsiElement(()('(')(105,106)
                            XQueryElementNameOrWildcardImpl(ELEMENT_NAME_OR_WILDCARD)(106,123)
                              XQueryElementNameImpl(ELEMENT_NAME)(106,123)
                                XQueryPrefixImpl(PREFIX)(106,109)
                                  PsiElement(NCName)('ipo')(106,109)
                                PsiElement(:)(':')(109,110)
                                XQueryLocalPartImpl(LOCAL_PART)(110,123)
                                  PsiElement(NCName)('purchaseOrder')(110,123)
                            PsiElement())(')')(123,124)
                  PsiWhiteSpace('\n')(124,125)
                  XQueryPredicateListImpl(PREDICATE_LIST)(125,125)
                    <empty list>
        XQueryLetClauseImpl(LET_CLAUSE)(125,150)
          PsiElement(let)('let')(125,128)
          PsiWhiteSpace(' ')(128,129)
          XQueryLetBindingImpl(LET_BINDING)(129,150)
            PsiElement($)('$')(129,130)
            XQueryVarNameImpl(VAR_NAME)(130,136)
              XQueryVarLocalNameImpl(VAR_LOCAL_NAME)(130,136)
                PsiElement(NCName)('billTo')(130,136)
            PsiWhiteSpace(' ')(136,137)
            PsiElement(:=)(':=')(137,139)
            PsiWhiteSpace(' ')(139,140)
            XQueryPathExprImpl(PATH_EXPR)(140,150)
              XQueryPrimaryExprImpl(PRIMARY_EXPR)(140,142)
                XQueryVarRefImpl(VAR_REF)(140,142)
                  PsiElement($)('$')(140,141)
                  XQueryVarNameImpl(VAR_NAME)(141,142)
                    XQueryVarLocalNameImpl(VAR_LOCAL_NAME)(141,142)
                      PsiElement(NCName)('p')(141,142)
              XQueryRelativePathOperatorImpl(RELATIVE_PATH_OPERATOR)(142,143)
                PsiElement(/)('/')(142,143)
              XQueryStepExprImpl(STEP_EXPR)(143,150)
                XQueryAxisStepImpl(AXIS_STEP)(143,150)
                  XQueryForwardStepImpl(FORWARD_STEP)(143,149)
                    XQueryAbbrevForwardStepImpl(ABBREV_FORWARD_STEP)(143,149)
                      XQueryNodeTestImpl(NODE_TEST)(143,149)
                        XQueryNameTestImpl(NAME_TEST)(143,149)
                          XQueryLocalPartImpl(LOCAL_PART)(143,149)
                            PsiElement(NCName)('billTo')(143,149)
                  PsiWhiteSpace('\n')(149,150)
                  XQueryPredicateListImpl(PREDICATE_LIST)(150,150)
                    <empty list>
        XQueryLetClauseImpl(LET_CLAUSE)(150,175)
          PsiElement(let)('let')(150,153)
          PsiWhiteSpace(' ')(153,154)
          XQueryLetBindingImpl(LET_BINDING)(154,175)
            PsiElement($)('$')(154,155)
            XQueryVarNameImpl(VAR_NAME)(155,161)
              XQueryVarLocalNameImpl(VAR_LOCAL_NAME)(155,161)
                PsiElement(NCName)('shipTo')(155,161)
            PsiWhiteSpace(' ')(161,162)
            PsiElement(:=)(':=')(162,164)
            PsiWhiteSpace(' ')(164,165)
            XQueryPathExprImpl(PATH_EXPR)(165,175)
              XQueryPrimaryExprImpl(PRIMARY_EXPR)(165,167)
                XQueryVarRefImpl(VAR_REF)(165,167)
                  PsiElement($)('$')(165,166)
                  XQueryVarNameImpl(VAR_NAME)(166,167)
                    XQueryVarLocalNameImpl(VAR_LOCAL_NAME)(166,167)
                      PsiElement(NCName)('p')(166,167)
              XQueryRelativePathOperatorImpl(RELATIVE_PATH_OPERATOR)(167,168)
                PsiElement(/)('/')(167,168)
              XQueryStepExprImpl(STEP_EXPR)(168,175)
                XQueryAxisStepImpl(AXIS_STEP)(168,175)
                  XQueryForwardStepImpl(FORWARD_STEP)(168,174)
                    XQueryAbbrevForwardStepImpl(ABBREV_FORWARD_STEP)(168,174)
                      XQueryNodeTestImpl(NODE_TEST)(168,174)
                        XQueryNameTestImpl(NAME_TEST)(168,174)
                          XQueryLocalPartImpl(LOCAL_PART)(168,174)
                            PsiElement(NCName)('shipTo')(168,174)
                  PsiWhiteSpace('\n')(174,175)
                  XQueryPredicateListImpl(PREDICATE_LIST)(175,175)
                    <empty list>
        XQueryReturnClauseImpl(RETURN_CLAUSE)(175,324)
          PsiElement(return)('return')(175,181)
          PsiWhiteSpace('\n   ')(181,185)
          XQueryIfExprImpl(IF_EXPR)(185,324)
            PsiElement(if)('if')(185,187)
            PsiWhiteSpace(' ')(187,188)
            PsiElement(()('(')(188,189)
            XQueryExprImpl(EXPR)(189,234)
              XQueryInstanceofExprImpl(INSTANCEOF_EXPR)(189,234)
                XQueryPrimaryExprImpl(PRIMARY_EXPR)(189,196)
                  XQueryVarRefImpl(VAR_REF)(189,196)
                    PsiElement($)('$')(189,190)
                    XQueryVarNameImpl(VAR_NAME)(190,196)
                      XQueryVarLocalNameImpl(VAR_LOCAL_NAME)(190,196)
                        PsiElement(NCName)('billTo')(190,196)
                PsiWhiteSpace(' ')(196,197)
                XQueryInstanceOfOperatorImpl(INSTANCE_OF_OPERATOR)(197,208)
                  PsiElement(instance)('instance')(197,205)
                  PsiWhiteSpace(' ')(205,206)
                  PsiElement(of)('of')(206,208)
                PsiWhiteSpace(' ')(208,209)
                XQuerySequenceTypeImpl(SEQUENCE_TYPE)(209,234)
                  XQueryItemTypeImpl(ITEM_TYPE)(209,234)
                    XQueryKindTestImpl(KIND_TEST)(209,234)
                      XQueryElementTestImpl(ELEMENT_TEST)(209,234)
                        PsiElement(element)('element')(209,216)
                        PsiElement(()('(')(216,217)
                        XQueryElementNameOrWildcardImpl(ELEMENT_NAME_OR_WILDCARD)(217,218)
                          PsiElement(*)('*')(217,218)
                        PsiElement(,)(',')(218,219)
                        PsiWhiteSpace(' ')(219,220)
                        XQueryTypeNameImpl(TYPE_NAME)(220,233)
                          XQueryPrefixImpl(PREFIX)(220,223)
                            PsiElement(NCName)('ipo')(220,223)
                          PsiElement(:)(':')(223,224)
                          XQueryLocalPartImpl(LOCAL_PART)(224,233)
                            PsiElement(NCName)('USAddress')(224,233)
                        PsiElement())(')')(233,234)
            PsiElement())(')')(234,235)
            PsiWhiteSpace('\n     ')(235,241)
            PsiElement(then)('then')(241,245)
            PsiWhiteSpace(' ')(245,246)
            XQueryQuantifiedExprImpl(QUANTIFIED_EXPR)(246,309)
              PsiElement(every)('every')(246,251)
              PsiWhiteSpace(' ')(251,252)
              XQueryMultiVariableBindingImpl(MULTI_VARIABLE_BINDING)(252,279)
                PsiElement($)('$')(252,253)
                XQueryVarNameImpl(VAR_NAME)(253,254)
                  XQueryVarLocalNameImpl(VAR_LOCAL_NAME)(253,254)
                    PsiElement(NCName)('i')(253,254)
                PsiWhiteSpace(' ')(254,255)
                PsiElement(in)('in')(255,257)
                PsiWhiteSpace(' ')(257,258)
                XQueryPathExprImpl(PATH_EXPR)(258,279)
                  XQueryPrimaryExprImpl(PRIMARY_EXPR)(258,260)
                    XQueryVarRefImpl(VAR_REF)(258,260)
                      PsiElement($)('$')(258,259)
                      XQueryVarNameImpl(VAR_NAME)(259,260)
                        XQueryVarLocalNameImpl(VAR_LOCAL_NAME)(259,260)
                          PsiElement(NCName)('p')(259,260)
                  XQueryRelativePathOperatorImpl(RELATIVE_PATH_OPERATOR)(260,261)
                    PsiElement(/)('/')(260,261)
                  XQueryStepExprImpl(STEP_EXPR)(261,266)
                    XQueryAxisStepImpl(AXIS_STEP)(261,266)
                      XQueryForwardStepImpl(FORWARD_STEP)(261,266)
                        XQueryAbbrevForwardStepImpl(ABBREV_FORWARD_STEP)(261,266)
                          XQueryNodeTestImpl(NODE_TEST)(261,266)
                            XQueryNameTestImpl(NAME_TEST)(261,266)
                              XQueryLocalPartImpl(LOCAL_PART)(261,266)
                                PsiElement(NCName)('items')(261,266)
                      XQueryPredicateListImpl(PREDICATE_LIST)(266,266)
                        <empty list>
                  XQueryRelativePathOperatorImpl(RELATIVE_PATH_OPERATOR)(266,267)
                    PsiElement(/)('/')(266,267)
                  XQueryStepExprImpl(STEP_EXPR)(267,279)
                    XQueryAxisStepImpl(AXIS_STEP)(267,279)
                      XQueryForwardStepImpl(FORWARD_STEP)(267,271)
                        XQueryAbbrevForwardStepImpl(ABBREV_FORWARD_STEP)(267,271)
                          XQueryNodeTestImpl(NODE_TEST)(267,271)
                            XQueryNameTestImpl(NAME_TEST)(267,271)
                              XQueryLocalPartImpl(LOCAL_PART)(267,271)
                                PsiElement(NCName)('item')(267,271)
                      PsiWhiteSpace('\n\t      ')(271,279)
                      XQueryPredicateListImpl(PREDICATE_LIST)(279,279)
                        <empty list>
              PsiElement(satisfies)('satisfies')(279,288)
              PsiWhiteSpace(' ')(288,289)
              XQueryParenthesizedExprImpl(PARENTHESIZED_EXPR)(289,309)
                PsiElement(()('(')(289,290)
                XQueryExprImpl(EXPR)(290,308)
                  XQueryPrimaryExprImpl(PRIMARY_EXPR)(290,308)
                    XQueryFunctionCallImpl(FUNCTION_CALL)(290,308)
                      XQueryFunctionNameImpl(FUNCTION_NAME)(290,296)
                        XQueryFunctionLocalNameImpl(FUNCTION_LOCAL_NAME)(290,296)
                          PsiElement(NCName)('exists')(290,296)
                      XQueryArgumentListImpl(ARGUMENT_LIST)(296,308)
                        PsiElement(()('(')(296,297)
                        XQueryArgumentImpl(ARGUMENT)(297,307)
                          XQueryPathExprImpl(PATH_EXPR)(297,307)
                            XQueryPrimaryExprImpl(PRIMARY_EXPR)(297,299)
                              XQueryVarRefImpl(VAR_REF)(297,299)
                                PsiElement($)('$')(297,298)
                                XQueryVarNameImpl(VAR_NAME)(298,299)
                                  XQueryVarLocalNameImpl(VAR_LOCAL_NAME)(298,299)
                                    PsiElement(NCName)('i')(298,299)
                            XQueryRelativePathOperatorImpl(RELATIVE_PATH_OPERATOR)(299,300)
                              PsiElement(/)('/')(299,300)
                            XQueryStepExprImpl(STEP_EXPR)(300,307)
                              XQueryAxisStepImpl(AXIS_STEP)(300,307)
                                XQueryForwardStepImpl(FORWARD_STEP)(300,307)
                                  XQueryAbbrevForwardStepImpl(ABBREV_FORWARD_STEP)(300,307)
                                    XQueryNodeTestImpl(NODE_TEST)(300,307)
                                      XQueryNameTestImpl(NAME_TEST)(300,307)
                                        XQueryLocalPartImpl(LOCAL_PART)(300,307)
                                          PsiElement(NCName)('USPrice')(300,307)
                                XQueryPredicateListImpl(PREDICATE_LIST)(307,307)
                                  <empty list>
                        PsiElement())(')')(307,308)
                PsiElement())(')')(308,309)
            PsiWhiteSpace('\n\t ')(309,312)
            PsiElement(else)('else')(312,316)
            PsiWhiteSpace(' ')(316,317)
            XQueryPrimaryExprImpl(PRIMARY_EXPR)(317,324)
              XQueryFunctionCallImpl(FUNCTION_CALL)(317,324)
                XQueryFunctionNameImpl(FUNCTION_NAME)(317,322)
                  XQueryFunctionLocalNameImpl(FUNCTION_LOCAL_NAME)(317,322)
                    PsiElement(NCName)('false')(317,322)
                XQueryArgumentListImpl(ARGUMENT_LIST)(322,324)
                  PsiElement(()('(')(322,323)
                  PsiElement())(')')(323,324)